<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>LIVING</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html,
    body {
      height: 100%;
      overflow: hidden;
      background: #fff;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    /* BUMP UP font size here */
    .living__h1 {
      display: flex;
      align-items: center;
      font-size: 8rem;
      /* bigger text */
      font-weight: 700;
      position: relative;
      z-index: 10;
    }

    .left-group,
    .right-group {
      display: flex;
      gap: 0.3em;
    }

    .letter {
      display: inline-block;
      opacity: 0;
      transform: translateY(50px);
    }

    /* Adjust gap height and width to visually match bigger font size */
    .gap {
      width: 0;
      overflow: visible;
      height: 190px;
      /* bigger height to match bigger text */
      margin: 0 0.15em;
      display: flex;
      align-items: center;
      position: relative;
      z-index: 5;
    }

    .gap-img-wrapper {
      position: absolute;
      width: 190px;
      /* bigger width */
      height: 190px;
      /* bigger height */
      top: 0;
      left: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      transform-origin: center;
    }

    .gap-img-wrapper img {
      width: 190px;
      height: 190px;
      object-fit: cover;
      opacity: 0;
    }

    .main-content {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      z-index: 0;
      opacity: 0;
      pointer-events: none;
    }

    .main-content.active {
      opacity: 1;
      pointer-events: all;
    }

    .page-title {
      position: absolute;
      bottom: 2rem;
      left: 2rem;
      font-size: 4rem;
      color: white;
      font-weight: bold;
      letter-spacing: 0.05em;
      text-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      opacity: 0;
      transform: translateY(50px);
    }

    .nav {
      position: absolute;
      top: 2rem;
      right: 2rem;
      display: flex;
      gap: 2rem;
      font-size: 1rem;
      font-weight: 600;
      z-index: 2;
    }

    .nav a {
      color: white;
      text-decoration: none;
      position: relative;
      padding-bottom: 2px;
    }

    .nav a::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 0;
      height: 2px;
      width: 100%;
      background: white;
      transform: scaleX(0);
      transform-origin: right;
      transition: transform 0.4s linear;
    }

    .nav a:hover::after {
      transform: scaleX(1);
      transform-origin: left;
    }
  </style>
</head>

<body>

  <!-- Preloader -->
  <div class="living__h1">
    <div class="left-group">
      <span class="letter">L</span>
      <span class="letter">I</span>
      <span class="letter">V</span>
    </div>

    <span class="gap">
      <!-- Images injected here -->
    </span>

    <div class="right-group">
      <span class="letter">I</span>
      <span class="letter">N</span>
      <span class="letter">G</span>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <div class="content-wrapper" style="background-image: url('img/bg.jpeg');">
      <h1 class="page-title">Living Magazine</h1>
      <nav class="nav">
        <a href="#about">About</a>
        <a href="#features">Features</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </div>

  <!-- GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script>
    const leftLetters = document.querySelectorAll(".left-group .letter");
    const rightLetters = document.querySelectorAll(".right-group .letter");
    const gap = document.querySelector(".gap");

    // Your images (adjust path/names as needed)
    const imgs = [];
    for (let i = 0; i <= 5; i++) imgs.push(`img/img${i}.jpg`);
    imgs.push("img/img6.jpeg");
    imgs.push("img/bg.jpeg");

    imgs.forEach(src => {
      const wrapper = document.createElement("div");
      wrapper.classList.add("gap-img-wrapper");
      const img = document.createElement("img");
      img.src = src;
      wrapper.appendChild(img);
      gap.appendChild(wrapper);
    });

    const gapWrappers = gap.querySelectorAll(".gap-img-wrapper");
    const gapImgs = gap.querySelectorAll("img");

    const tl = gsap.timeline({ defaults: { ease: "none" } });

    // Animate letters bottom to top
    tl.to([...leftLetters, ...rightLetters], {
      y: 0,
      opacity: 1,
      stagger: 0.05,
      duration: 0.3,
    })

      .to({}, { duration: .7 })

      // Split text horizontally
      .to(".left-group", { x: "-160px", duration: 0.5 }, "<")
      .to(".right-group", { x: "160px", duration: 0.5 }, "<")
      .to(gap, { width: "190px", duration: 0.5 }, "<")

      .add(() => {
        gapImgs.forEach(img => gsap.set(img, { opacity: 0 }));
      })

      // Slideshow with faster intervals
      .add(() => {
        const slideshowTl = gsap.timeline({ defaults: { ease: "none" } });
        const lastIndex = gapWrappers.length - 1;

        for (let i = 0; i < lastIndex; i++) {
          slideshowTl.set(gapImgs[i], { opacity: 1 });
          slideshowTl.to({}, { duration: 0.15 }); // faster change
          slideshowTl.set(gapImgs[i], { opacity: 0 });
        }

        const finalWrapper = gapWrappers[lastIndex];
        const finalImg = gapImgs[gapImgs.length - 1];

        slideshowTl.set(finalImg, { opacity: 1 });
        slideshowTl.to({}, { duration: 0.4 });

        slideshowTl.eventCallback("onComplete", () => {
          zoomAndMove(finalWrapper);
        });

        slideshowTl.play();
      });

    function zoomAndMove(wrapperToZoom) {
      const img = wrapperToZoom.querySelector("img");

      const rect = wrapperToZoom.getBoundingClientRect();
      const centerX = window.innerWidth / 2;
      const centerY = window.innerHeight / 2;
      const currentCenterX = rect.left + rect.width / 2;
      const currentCenterY = rect.top + rect.height / 2;

      const xOffset = centerX - currentCenterX;
      const yOffset = centerY - currentCenterY;

      const zoomTl = gsap.timeline({ defaults: { ease: "power2.inOut" } });

      // Move image wrapper to center
      zoomTl.set(wrapperToZoom, {
        position: "fixed",
        top: "50%",
        left: "50%",
        xPercent: -50,
        yPercent: -50,
        zIndex: 1000,
      });

      // Smoothly scale/stretch to full screen
      zoomTl.to(wrapperToZoom, {
        width: "100vw",
        height: "100vh",
        duration: 1.5,
      });

      zoomTl.to(img, {
        width: "100vw",
        height: "100vh",
        objectFit: "fill",
        duration: 3,

      }, "<");


      // Move letters out during zoom
      zoomTl.to(".left-group", { x: "-150vw", duration: 1.5 }, "<");
      zoomTl.to(".right-group", { x: "150vw", duration: 1.5 }, "<");
    }


  </script>
</body>

</html>